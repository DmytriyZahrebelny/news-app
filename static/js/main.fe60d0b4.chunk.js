(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),o=n.n(r),s=n(12),i=n(21),l=n(141),d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},u=n(14),b="posts",j="".concat(b,"/GET_ALL_POSTS"),p="".concat(b,"/GET_POST"),h="".concat(b,"/ALL_POSTS_REQUESTS"),O="".concat(b,"/POST_REQUESTS"),f="".concat(b,"/POST_DELETE"),x="".concat(b,"/POST_DELETE_REQUESTS"),m="".concat(b,"/POST_UPDATE"),v="".concat(b,"/POST_UPDATE_REQUESTS"),g="".concat(b,"/POST_CREATE"),y="".concat(b,"/POST_CREATE_REQUESTS"),w=n(10),S=n.n(w),C=n(18),k=n(66),N="/posts",E=n.n(k).a.create({baseURL:"https://jsonplaceholder.typicode.com"}),T={headers:{"Content-type":"application/json; charset=UTF-8","Access-Control-Allow-Origin":"*"}},A=function(){return E.get(N)},R=function(e){return E.get("".concat(N,"/").concat(e))},F=function(e){return E.post(N,e,T)},P=function(e){return E.put("".concat(N,"/").concat(e.id),e,T)},D=function(e){return E.delete("".concat(N,"/").concat(e),T)},L=S.a.mark(G),I=S.a.mark(J),_=S.a.mark(V),U=S.a.mark(W),q=S.a.mark(z),B=S.a.mark(M),Q=function(){return{type:h}},H=function(e){return{type:O,payload:e}};function G(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)(A);case 2:return e=t.sent,t.next=5,Object(C.c)({type:j,payload:e.data});case 5:case"end":return t.stop()}}),L)}function J(e){var t,n;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(C.b)(R,t);case 4:return n=a.sent,a.next=7,Object(C.c)({type:p,payload:n.data});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),console.loc(a.t0);case 12:case"end":return a.stop()}}),I,null,[[1,9]])}function V(e){var t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(C.b)(D,t);case 4:return n.next=6,Object(C.c)({type:f,payload:t});case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0);case 11:case"end":return n.stop()}}),_,null,[[1,8]])}function W(e){var t,n,a;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(C.b)(P,t);case 4:return n=c.sent,a=n.data,c.next=8,Object(C.c)({type:m,payload:a});case 8:c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),console.log(c.t0);case 13:case"end":return c.stop()}}),U,null,[[1,10]])}function z(e){var t,n,a;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(C.b)(F,t);case 4:return n=c.sent,a=n.data,c.next=8,Object(C.c)({type:g,payload:a});case 8:c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),console.log(c.t0);case 13:case"end":return c.stop()}}),q,null,[[1,10]])}function M(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([Object(C.d)(h,G),Object(C.d)(O,J),Object(C.d)(x,V),Object(C.d)(v,W),Object(C.d)(y,z)]);case 2:case"end":return e.stop()}}),B)}var Y,K=n(16),X=n(25),Z={loadding:!1,posts:[],post:null,isSuccessRequests:!1},$=function(e){return e.posts.posts},ee=function(e){return e.posts.post},te=function(e){return e.posts.loadding},ne=function(e){return e.posts.isSuccessRequests},ae=n(139),ce=n(136),re=Object(ce.a)((function(e){return{header:{backgroundColor:e.colors.lightsalmon},headerContainer:{width:1200,height:60,margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between"},link:{color:e.colors.black,textDecoration:"none"},user:{display:"flex",justifyContent:"center",alignItems:"center",width:30,height:30,border:"2px solid ".concat(e.colors.black),borderRadius:"50%"},linkContainer:{width:200,display:"flex",justifyContent:"space-between"}}})),oe="/",se="/auth",ie="/posts",le="/profile",de="/create",ue="auth",be="".concat(ue,"/AUTH"),je={isAuth:localStorage.getItem("auth")||!1},pe=function(e){return e.auth.isAuth},he=n(3),Oe=function(){var e=re(),t=Object(s.c)(pe);return Object(he.jsx)("div",{className:e.header,children:Object(he.jsxs)("div",{className:e.headerContainer,children:[Object(he.jsxs)("div",{className:e.linkContainer,children:[Object(he.jsx)(i.b,{className:e.link,to:oe,children:Object(he.jsx)(ae.a,{variant:"h6",children:"News"})}),Object(he.jsx)(i.b,{className:e.link,to:le,children:Object(he.jsx)(ae.a,{variant:"h6",children:"Profile"})})]}),t?Object(he.jsx)(ae.a,{className:e.user,variant:"body1",children:"A"}):Object(he.jsx)(i.b,{className:e.link,to:se,children:Object(he.jsx)(ae.a,{variant:"body1",children:"Sign In"})})]})})},fe=Object(ce.a)({link:{display:"block",padding:10}}),xe=function(e){var t=e.title,n=e.id,a=e.url,c=fe();return Object(he.jsx)(i.b,{className:c.link,to:"".concat(a,"/").concat(n),children:Object(he.jsx)(ae.a,{variant:"body1",children:t})})},me=Object(ce.a)({newsList:{margin:"20px 0"}}),ve=function(){var e=Object(s.c)($),t=me();return Object(he.jsx)("div",{className:t.newsList,children:e.map((function(e){var t=e.title,n=e.id;return Object(he.jsx)(xe,{title:t,id:n,url:ie},n)}))})},ge=n(47),ye=n(142),we=Object(ce.a)({root:{width:"100%"}}),Se=function(e){var t=e.name,n=e.type,a=void 0===n?"text":n,c=e.label,r=e.value,o=void 0===r?"":r,s=e.inputRef,i=we();return Object(he.jsx)(ye.a,{name:t,type:a,label:c,defaultValue:o,inputRef:s,className:i.root})},Ce=Object(ce.a)((function(e){return{auth:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"calc(100vh - 60px)"},authContainer:{width:600,height:300,padding:"60px 40px",boxShadow:e.colors.mainShadow,boxSizing:"border-box"},form:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignContent:"space-around",height:"100%"},button:{width:140,height:50,backgroundColor:e.colors.lightsalmon,border:"none",borderRadius:20,cursor:"pointer"},error:{width:"100%",padding:"20px 0",textAlign:"center",color:e.colors.brown}}})),ke=n(29),Ne="Admin",Ee="12345",Te=function(){var e=Object(s.b)(),t=Object(a.useState)(!1),n=Object(ke.a)(t,2),c=n[0],r=n[1],o=Object(u.g)();return{onSubmit:function(t){var n,a=t.name,c=t.password,s=Ne===a&&Ee===c;s?(r(!1),e(((n=s)&&localStorage.setItem("auth",!0),{type:be,payload:n})),o.push(oe)):r("Invalid name or password")},error:c}},Ae=function(){var e=Ce(),t=Object(ge.a)(),n=t.register,a=t.handleSubmit,c=Te(),r=c.onSubmit,o=c.error;return Object(he.jsx)("div",{className:e.auth,children:Object(he.jsx)("div",{className:e.authContainer,children:Object(he.jsxs)("form",{className:e.form,onSubmit:a(r),children:[Object(he.jsx)(Se,{name:"name",label:"Name",inputRef:n({required:!0})}),Object(he.jsx)(Se,{name:"password",type:"password",label:"Password",inputRef:n({required:!0})}),o&&Object(he.jsx)(ae.a,{className:e.error,variant:"body1",children:o}),Object(he.jsx)("button",{className:e.button,type:"submit",children:Object(he.jsx)(ae.a,{variant:"button",children:"Sign In"})})]})})})},Re=Object(ce.a)({title:{padding:"20px 0"}}),Fe=function(){var e=Object(s.b)(),t=Re(),n=Object(u.h)().id,c=Object(s.c)(ee),r=Object(s.c)(te);return Object(a.useEffect)((function(){e(H(n))}),[e,H]),r?Object(he.jsx)(ae.a,{className:t.title,variant:"h6",children:"Loadding"}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ae.a,{className:t.title,variant:"h4",children:null===c||void 0===c?void 0:c.title}),Object(he.jsx)(ae.a,{variant:"body1",children:null===c||void 0===c?void 0:c.body})]})},Pe=Object(ce.a)((function(e){return{profile:{display:"flex",justifyContent:"space-between",padding:"30px 0"},link:{display:"flex",justifyContent:"center",alignItems:"center",width:200,height:50,color:e.colors.white,backgroundColor:e.colors.lightsalmon,border:"none",borderRadius:20,cursor:"pointer"},editContainer:{borderBottom:"1px solid ".concat(e.colors.lightsalmon),"& a":{textDecoration:"none"}},linkContainer:{display:"flex",justifyContent:"space-around",width:200},editLink:{display:"flex",justifyContent:"center",alignItems:"center",width:80,height:30,margin:"10px 0",backgroundColor:e.colors.lightsalmon,color:e.colors.white,borderRadius:20,cursor:"pointer",border:"none"}}})),De=function(){var e=Object(s.b)();return{posts:Object(s.c)($),deletePostHandler:function(t){return function(){e(function(e){return{type:x,payload:e}}(t))}}}},Le=function(){var e=Pe(),t=De(),n=t.deletePostHandler,a=t.posts;return Object(he.jsxs)("div",{className:e.profile,children:[Object(he.jsx)("div",{children:a.map((function(t){var a=t.title,c=t.id;return Object(he.jsxs)("div",{className:e.editContainer,children:[Object(he.jsx)(xe,{title:a,id:c,url:le}),Object(he.jsxs)("div",{className:e.linkContainer,children:[Object(he.jsx)(i.b,{to:"".concat(le,"/").concat(c),className:e.editLink,children:Object(he.jsx)(ae.a,{variant:"button",children:"Edit"})}),Object(he.jsx)("button",{type:"button",className:e.editLink,onClick:n(c),children:Object(he.jsx)(ae.a,{variant:"button",children:"Delete"})})]})]},c)}))}),Object(he.jsx)(i.b,{className:e.link,to:"".concat(le).concat(de),children:Object(he.jsx)(ae.a,{variant:"button",children:"Create new post"})})]})},Ie=Object(ce.a)({textarea:{width:"100%",height:80}}),_e=function(e){var t=e.placeholder,n=e.value,a=void 0===n?"":n,c=e.name,r=e.inputRef,o=Ie();return Object(he.jsx)("textarea",{placeholder:t,defaultValue:a,name:c,ref:r,className:o.textarea})},Ue=function(){var e=Object(s.b)(),t=Object(s.c)(ee),n=Object(s.c)(te),c=Object(s.c)(ne),r=Object(ge.a)(),o=r.register,i=r.handleSubmit,l=Object(u.h)().id;Object(a.useEffect)((function(){Number(l)&&e(H(l))}),[e,l,H]);return{isLoadding:n,register:o({required:!0}),handleSubmit:i((function(n){var a,c=n.title,r=n.body;e(t?(a={title:c,body:r,userId:t.userId,id:t.id},{type:v,payload:a}):function(e){return{type:y,payload:e}}({title:c,body:r,userId:1}))})),post:t,isUpdate:Boolean(Number(l)),requestState:c}},qe=Object(ce.a)((function(e){return{title:{width:"100%",padding:"20px 0"},button:{display:"block",margin:"40px auto",width:140,height:50,backgroundColor:e.colors.lightsalmon,border:"none",borderRadius:20,cursor:"pointer"},form:{display:"flex",flexWrap:"wrap",alignContent:"space-between",justifyContent:"center",height:250},success:{width:"100%",padding:"20px 0",textAlign:"center",color:e.colors.lightseagreen}}})),Be=function(){var e=qe(),t=Ue(),n=t.register,a=t.handleSubmit,c=t.isLoadding,r=t.post,o=t.isUpdate,s=t.requestState;return c?Object(he.jsx)(ae.a,{className:e.title,variant:"h6",children:"Loadding"}):Object(he.jsxs)("div",{children:[Object(he.jsx)(ae.a,{className:e.title,variant:"h4",children:"Editor"}),s&&Object(he.jsx)(ae.a,{className:e.success,variant:"h4",children:"Success"}),Object(he.jsxs)("form",{onSubmit:a,className:e.form,children:[Object(he.jsx)(Se,{name:"title",inputRef:n,label:"Title",value:o?null===r||void 0===r?void 0:r.title:""}),Object(he.jsx)(_e,{placeholder:"Your post",inputRef:n,name:"body",value:o?null===r||void 0===r?void 0:r.body:""}),Object(he.jsx)("button",{className:e.button,type:"submit",children:Object(he.jsx)(ae.a,{variant:"button",children:"Update post"})})]})]})},Qe=Object(ce.a)({main:{width:1100,margin:"0 auto"}}),He=function(e){var t=e.component,n=e.path,a=e.redirectPath,c=Object(s.c)(pe);return Object(he.jsx)(u.b,{path:n,children:c?Object(he.jsx)(t,{}):Object(he.jsx)(u.a,{to:a})})},Ge=(n(104),function(){var e=Object(s.b)(),t=Qe();return Object(a.useEffect)((function(){e(Q())}),[e,Q]),Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(Oe,{}),Object(he.jsx)("div",{className:t.main,children:Object(he.jsxs)(u.d,{children:[Object(he.jsx)(u.b,{exact:!0,path:se,component:Ae}),Object(he.jsx)(He,{component:Be,path:"".concat(le,"/:id"),redirectPath:se}),Object(he.jsx)(He,{component:Le,path:le,redirectPath:se}),Object(he.jsx)(u.b,{path:"".concat(ie,"/:id"),component:Fe}),Object(he.jsx)(u.b,{path:[oe,ie],component:ve})]})})]})}),Je=n(28),Ve=n(72),We=n(22),ze=Object(Je.c)((Y={},Object(We.a)(Y,b,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(X.a)(Object(X.a)({},e),{},{loadding:!0,post:null,isSuccessRequests:!1});case j:return Object(X.a)(Object(X.a)({},e),{},{posts:t.payload});case p:return Object(X.a)(Object(X.a)({},e),{},{post:t.payload,loadding:!1});case f:return Object(X.a)(Object(X.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload}))});case m:return Object(X.a)(Object(X.a)({},e),{},{isSuccessRequests:!0,posts:e.posts.map((function(e){return e.id===t.payload.id?t.payload:e}))});case g:return Object(X.a)(Object(X.a)({},e),{},{isSuccessRequests:!0,posts:[t.payload].concat(Object(K.a)(e.posts))});default:return e}})),Object(We.a)(Y,ue,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return{isAuth:t.payload};default:return e}})),Y)),Me=S.a.mark(Ye);function Ye(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([M()]);case 2:case"end":return e.stop()}}),Me)}var Ke=n(71),Xe=Object(Ke.a)({colors:{mainShadow:"0px 4px 16px rgba(39, 59, 97, 0.15)",crimson:"#DC143C",lightsalmon:"#FFA07A",lime:"#00FF00",green:"#008000",aqua:"#00FFFF",lightseagreen:"#20B2AA",mediumblue:"#0000CD",slateblue:"#6A5ACD",fuchsia:"#FF00FF",deeppink:"#FF1493",chocolate:"#D2691E",brown:"#A52A2A",lightgray:"#D3D3D3",gainsboro:"#DCDCDC",white:"#ffffff",black:"#000000"}});o.a.render(Object(he.jsx)(i.a,{basename:"/news-app",children:Object(he.jsx)(s.a,{store:function(){var e=Object(Ve.a)(),t=Object(Je.a)(e),n=Object(Je.e)(ze,t);return e.run(Ye),n}(),children:Object(he.jsx)(l.a,{theme:Xe,children:Object(he.jsx)(c.a.StrictMode,{children:Object(he.jsx)(Ge,{})})})})}),document.getElementById("root")),d()}},[[105,1,2]]]);
//# sourceMappingURL=main.fe60d0b4.chunk.js.map